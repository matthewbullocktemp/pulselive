"use strict";window.onload=function(){PlayerWidget.init()};var PlayerWidget={init:function(){PlayerWidget.getPlayers()},getPlayers:function(){fetch("https://api.myjson.com/bins/1g8wau").then(function(t){return t.json()}).then(function(t){var e=t.players;console.log(e),PlayerWidget.createSelectOption(),e.map(function(t){PlayerWidget.createOptionList(t)}),PlayerWidget.addEventHandler(e)}).catch(function(t){console.log(t)})},addEventHandler:function(t){document.getElementById("player-select").addEventListener("change",function(e){var a=e.target.value,n=t.filter(function(t,e){return t.player.id==a}),i=document.getElementById("card-container");i&&PlayerWidget.deleteCard(i),PlayerWidget.createStatsCard(n)})},createSelectOption:function(){document.getElementById("player-widget").insertAdjacentHTML("beforeend",'\n\t\t\t<div class="card__header card__header--padded">\n\t\t\t\t<select id="player-select" class="card-select">\n\t\t\t\t\t\t<option disabled selected>Please select a player...</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t')},createOptionList:function(t){var e=t.player,a=(document.getElementById("player-select"),'<option value="'+e.id+'">'+e.name.first+" "+e.name.last+"</option>");document.getElementById("player-select").innerHTML+=a},createStatsCard:function(t){var e=t[0],a=e.player,n=e.stats,i=n.filter(function(t,e){return"appearances"==t.name}),s=n.filter(function(t,e){return"goals"==t.name}),l=n.filter(function(t,e){return"goal_assist"==t.name}),r=n.filter(function(t,e){return"mins_played"==t.name}),c=n.filter(function(t,e){return"fwd_pass"==t.name}),d=n.filter(function(t,e){return"backward_pass"==t.name}),_=(s[0].value/i[0].value).toFixed(2),o=((c[0].value+d[0].value)/r[0].value).toFixed(2),m='\n\t\t\t\t<div id="card-container" class="card__content">\n\n\t\t\t\t\t<div class="card__image">\n\t\t\t\t\t\t\t<img src="/img/'+a.id+'.png" alt="'+a.name.first+" "+a.name.last+' Profile Image">\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="card__meta">\n\t\t\t\t\t\t<div class="card__header">\n\t\t\t\t\t\t\t\t<div class="card__meta__header__title">\n\t\t\t\t\t\t\t\t\t<h2>'+a.name.first+" "+a.name.last+"</h2>\n\t\t\t\t\t\t\t\t\t<h4>"+(a.info.positionInfo?a.info.positionInfo:"")+'</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="card__meta__header__icon">\n\t\t\t\t\t\t\t\t\t\t\t<img id="'+a.currentTeam.shortName.replace(/\s/g,"-").toLowerCase()+'" src="img/trans.png" alt="'+a.currentTeam.name+' Shield Image">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="card__meta__content">\n\t\t\t\t\t\t\t<ul class="card__list">\n\t\t\t\t\t\t\t\t'+(i.length?'<li class="card__list__item"><span class="card__list__item--left">Appearances</span><span class="card__list__item--right">'+i[0].value+"</span></li>":"")+"\n\t\t\t\t\t\t\t\t"+(s.length?'<li class="card__list__item"><span class="card__list__item--left">Goals</span><span class="card__list__item--right">'+s[0].value+"</span></li>":"")+"\n\t\t\t\t\t\t\t\t"+(l.length?'<li class="card__list__item"><span class="card__list__item--left">Assists</span><span class="card__list__item--right">'+l[0].value+"</span></li>":"")+"\n\t\t\t\t\t\t\t\t"+(_.length?'<li class="card__list__item"><span class="card__list__item--left">Goals per match</span><span class="card__list__item--right">'+_+"</span></li>":"")+"\n\t\t\t\t\t\t\t\t"+(o.length?'<li class="card__list__item"><span class="card__list__item--left">Passes per minute</span><span class="card__list__item--right">'+o+"</span></li>":"")+"\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t";document.getElementById("player-widget").insertAdjacentHTML("beforeend",m)},deleteCard:function(t){t.remove()}};